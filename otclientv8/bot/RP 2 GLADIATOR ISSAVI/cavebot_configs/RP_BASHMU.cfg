function:[[

warn("SET RESIDENCE ON ISSAVI")

warn("BUY SHIELD AND CHANGE ID IN TRAINER FUNCTION")

return true


]]
goto:33921,31477,5,0
delay:60000
label:temple
travel:Iptar-Sin, twist of fate
function:[[

for i, spec in ipairs(getSpectators()) do

  if spec:isMonster() and spec:getName() == "Training Monk" then

    CaveBot.gotoLabel('resumeTrain')

  end

end

return true


]]
function:[[

if stamina() > 1000 then 

  CaveBot.gotoLabel("resumeExp")

end

return true


]]
goto:33921,31477,5
goto:33916,31478,5,0
goto:33921,31479,5,0
label:resumeTrain
delay:2000
function:[[

local monsterList = {}

local whitelistMonsters = {}

  for _,mob in ipairs(getSpectators(posz())) do

    if mob:isMonster() and not table.find(whitelistMonsters, mob:getName():lower()) then

      table.insert(monsterList, {monster = mob, distance = getDistanceBetween(pos(), mob:getPosition())})

    end

  end

  table.sort(monsterList, function(a,b) return a.distance < b.distance end)

  if not g_game.isAttacking() and monsterList[1] then

    g_game.attack(monsterList[1].monster)

  end

  monsterList = {}

return true


]]
delay:5000
function:[[

AttackBot.setOff()

if stamina() < 1300 then

    return "retry"

end

-- leave to tp when stamina is refilled

AttackBot.setOff()

local dest = nil

for i, tile in ipairs(g_map.getTiles(posz())) do

  local tPos = tile:getPosition()

  local minimapColor = g_map.getMinimapColor(tPos)

  local stairs = (minimapColor >= 210 and minimapColor <= 213)

  if stairs and CaveBot.MatchPosition(tPos, 1) then

    dest = tPos

  end

end

if dest then

    return CaveBot.GoTo(dest)

end

return "retry"


]]
label:resumeExp
function:[[

AttackBot.setOn()

return true


]]
goto:33921,31478,5
goto:33921,31484,5
goto:33921,31485,5,0
goto:33917,31486,6,0
rewardshrine:dey_scripts
goto:33918,31486,6
goto:33918,31486,6
goto:33924,31486,6
goto:33924,31486,6,0
goto:33925,31486,6
imbuing:22866,16110,10385
goto:33921,31488,6,0
goto:33921,31491,7
goto:33927,31492,7
goto:33929,31498,7
goto:33929,31504,7
follow:Johny the Marketer
sellall:Johny the marketer
goto:33923,31507,7,0
follow:Johny the marketer
sellall:Johny the marketer
goto:33923,31507,7
goto:33929,31505,7
goto:33930,31499,7
goto:33930,31493,7
goto:33924,31492,7
goto:33918,31492,7
goto:33913,31486,7
goto:33919,31481,7
goto:33921,31481,7,0
depositor:no
goto:33921,31481,7,0
function:[[

CaveBot.CloseAllLootContainers()

delay(3000)

return true


]]
depositor:no
goto:33924,31480,7,0
goto:33924,31479,7,0
bank:deposit, Naji
delay:500
goto:33924,31480,7,0
bank:transfer, Naji, Funbwoy, 10000000
goto:33921,31481,7,0
label:TO_EXP
goto:33921,31481,7
goto:33915,31481,7
goto:33914,31487,7
goto:33920,31491,7
goto:33926,31491,7
goto:33931,31497,7
goto:33931,31503,7
goto:33937,31507,7
goto:33924,31510,7
goto:33916,31508,7,0
goto:33915,31508,7,0
buysupplies:Khanna
goto:33911,31510,7
goto:33911,31512,7,0
buysupplies:Faloriel
goto:33912,31517,7
goto:33915,31517,7,0
goto:33914,31519,7,0
buysupplies:Eliyas
goto:33911,31518,7
label:afterRefill
goto:33909,31521,7
goto:33906,31526,7
goto:33903,31526,7
goto:33901,31526,7
use:33900,31526,7
goto:33901,31526,8,0
label:exp
goto:33901,31526,8
function:[[

TargetBot.setOn()

AttackBot.setOn()

return true


]]
poscheck:afterRefill,10,33901,31527,8
goto:33907,31526,8
goto:33913,31526,8
goto:33919,31527,8
goto:33921,31526,8
goto:33926,31526,8
goto:33928,31522,8
goto:33930,31520,8
goto:33926,31525,8
goto:33927,31526,8
goto:33928,31530,8
goto:33930,31530,8
goto:33927,31528,8
goto:33927,31525,8
goto:33923,31526,8
goto:33922,31527,8
goto:33916,31527,8
goto:33910,31526,8
goto:33904,31526,8
goto:33901,31520,8
goto:33900,31514,8
goto:33906,31513,8
goto:33905,31507,8
goto:33905,31501,8
goto:33899,31499,8
goto:33893,31497,8
goto:33889,31491,8
goto:33889,31485,8
goto:33889,31479,8
goto:33883,31479,8
goto:33877,31480,8
goto:33877,31486,8
goto:33876,31492,8
goto:33870,31497,8
goto:33876,31498,8
goto:33876,31504,8
goto:33876,31498,8
goto:33876,31492,8
goto:33876,31486,8
goto:33875,31480,8
goto:33881,31480,8
goto:33887,31479,8
goto:33893,31479,8
goto:33899,31479,8
goto:33905,31480,8
goto:33911,31479,8
goto:33917,31479,8
goto:33923,31480,8
goto:33925,31478,8
goto:33925,31472,8
goto:33931,31467,8
goto:33937,31466,8
goto:33940,31472,8
goto:33939,31478,8
goto:33945,31480,8
goto:33951,31480,8
goto:33953,31486,8
goto:33953,31492,8
goto:33954,31498,8
goto:33954,31497,8
goto:33948,31497,8
goto:33942,31497,8
goto:33936,31497,8
goto:33930,31497,8
goto:33930,31498,8
goto:33924,31498,8
goto:33918,31497,8
goto:33912,31498,8
goto:33906,31499,8
goto:33903,31505,8
goto:33906,31511,8
goto:33900,31511,8
goto:33900,31517,8
goto:33901,31523,8
supplycheck:exp,33901,31526,8
label:leaveExp
goto:33901,31526,8,0
goto:33900,31526,8,0
use:33900,31526,8
goto:33901,31526,7,0
function:[[

TargetBot.setOff()

return true


]]
goto:33909,31525,7
goto:33914,31523,7
goto:33920,31519,7
goto:33926,31514,7
goto:33930,31507,7
goto:33932,31501,7
goto:33932,31495,7
goto:33938,31495,7
goto:33944,31495,7
goto:33950,31495,7
poscheck:leaveExp,10,33952,31495,7
function:[[

if retries > 25 or not isPzLocked() then

  return true

else

  if isPoisioned() then

      say("exana pox")

  end

  if isPzLocked() then

      delay(8000)

  end

  return "retry"

end


]]
goto:33953,31495,7
goto:33947,31495,7
goto:33941,31495,7
goto:33935,31495,7
goto:33929,31494,7
goto:33923,31492,7
goto:33921,31488,7,0
goto:33921,31485,6,0
goto:33921,31479,5
goto:33921,31478,5,0
gotolabel:temple
config:{"useDelay":400,"mapClickDelay":100,"walkDelay":10,"ping":100,"ignoreFields":false,"skipBlocked":false,"mapClick":false}
extensions:[[
[

]
]]
